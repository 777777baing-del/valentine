<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine ğŸ’–</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background:
        linear-gradient(rgba(255,182,193,0.55), rgba(255,182,193,0.55)),
        url("bubu.gif");
    background-repeat: repeat;
    background-size: 220px 220px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: "Segoe UI", Arial, sans-serif;
    overflow: hidden;
}

.card {
    background: rgba(255,255,255,0.95);
    padding: 35px;
    border-radius: 22px;
    text-align: center;
    box-shadow: 0 15px 35px rgba(0,0,0,0.35);
    position: relative;
    width: 440px;
}

h1 { color: #e63946; }
p { font-size: 18px; }

img {
    width: 240px;
    margin: 15px 0;
    border-radius: 18px;
}

.buttons {
    position: relative;
    height: 90px;
}

button {
    padding: 12px 26px;
    font-size: 16px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    position: absolute;
}

.yes {
    background-color: #ff4d6d;
    color: white;
    left: 50%;
    transform: translateX(-50%);
}

.no { background-color: #ccc; }
.hellno { background-color: #999; color: white; }

.confetti {
    position: fixed;
    animation: fall linear forwards;
}

@keyframes fall {
    from { transform: translateY(-100px) rotate(0deg); }
    to { transform: translateY(110vh) rotate(360deg); }
}
</style>
</head>

<body>

<div class="card">
    <h1 id="question">ğŸ’– Will you be my Valentine? ğŸ’–</h1>
    <p id="subtext">Choose wisely ğŸ˜Œ</p>

    <img id="bubuImg" src="bubu.png">

    <div class="buttons" id="buttons"></div>
</div>

<audio id="song">
    <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
let step = 0;
let musicStarted = false;

const buttonsDiv = document.getElementById("buttons");
const question = document.getElementById("question");
const subtext = document.getElementById("subtext");
const img = document.getElementById("bubuImg");
const song = document.getElementById("song");

renderStage0();

function startMusicOnce() {
    if (!musicStarted) {
        song.volume = 0.7;
        song.play();
        musicStarted = true;
    }
}

function move(btn) {
    btn.style.left = Math.random() * 70 + "%";
    btn.style.top = Math.random() * 45 + "px";
}

function renderStage0() {
    buttonsDiv.innerHTML = `
        <button class="yes" onclick="yes()">Yes ğŸ’•</button>
        <button class="no" onmouseover="move(this)">No ğŸ™ƒ</button>
        <button class="hellno" onmouseover="move(this)">Hell No ğŸ˜¤</button>
    `;
}

function renderYesNo() {
    buttonsDiv.innerHTML = `
        <button class="yes" onclick="yes()">Yes ğŸ’•</button>
        <button class="no" onmouseover="move(this)">No ğŸ™ƒ</button>
    `;
}

function renderYesOnly() {
    buttonsDiv.innerHTML = `
        <button class="yes" onclick="finalYes()">Yes ğŸ’˜</button>
    `;
}

function yes() {
    step++;

    if (step === 1) {
        startMusicOnce();
        img.src = "bubu2.png";
        renderYesNo();
    }
    else if (step === 2) {
        img.src = "bubu3.png";
        question.innerHTML = "ğŸ˜³ Are you sure?";
        subtext.innerHTML = "Think againâ€¦";
        renderYesNo();
    }
    else if (step === 3) {
        img.src = "bubu4.png";
        question.innerHTML = "ğŸ˜ You sure sure??";
        subtext.innerHTML = "No going back now ğŸ‘€";
        renderYesOnly();
    }
}

function finalYes() {
    img.src = "bubu5.png";
    question.innerHTML = "ğŸ’˜ THANK YOU, JIEN ğŸ’˜";
    subtext.innerHTML =
        "My Baby Princess ğŸ‘‘ğŸ’–<br>Thank you for saying yes and making me the happiest ğŸ¥°";

    buttonsDiv.innerHTML = "";
    createConfetti();
}

function createConfetti() {
    const colors = ["#ff4d6d","#ffd166","#06d6a0","#4cc9f0","#f72585"];
    for (let i = 0; i < 160; i++) {
        const c = document.createElement("div");
        c.className = "confetti";
        c.style.left = Math.random() * 100 + "vw";
        c.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
        c.style.width = c.style.height = (Math.random()*8+6)+"px";
        c.style.animationDuration = (Math.random()*2+2)+"s";
        document.body.appendChild(c);
        setTimeout(() => c.remove(), 4500);
    }
}
</script>

</body>
</html>
